<html>
<head>
    <script src="jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="handlebars.min.js" type="text/javascript"></script>
    <script src="observable.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        var myList = new ObservableList();
        var myListItemTemplate;
        $(function() {
            var source   = $("#listItemTemplate").html();
            myListItemTemplate = Handlebars.compile(source);
            myList.subscribe("add", function(target, data) {
                var newItem = myListItemTemplate({id: target, content: data});
                $("#MyList").append($(newItem));
            });
            myList.subscribe("remove", function(target, data) {
                $("#MyList .item" + target).remove();
            });
            myList.subscribe("change", function(target, data) {
                $("#MyList .item" + target).text(data);
            });

            myList.push("First");
            myList.push("Second");
            myList.push("Third");
        });
    </script>
</head>
<body>
    <h2>Obserbable.js Demo</h2>
    <pre>
    >>> // Some things to try (from a console)
    >>> myList.push("Another")
    >>> myList.remove("Second")
    >>> myList[1]
    >>> myList[2] = "Something else"
    >>> myList.list
    </pre>
    <script id="listItemTemplate" type="text/x-handlebars">
        <li class="item{{id}}">{{content}}</li>
    </script>
    This list is bound to <i>myList</i>
    <ul id="MyList">
    </ul>
</body>
</html>
